{"version":3,"file":"util.js","sourceRoot":"","sources":["../../../src/internal/util.ts"],"names":[],"mappings":"AAAA,uCAAuC;AACvC,kCAAkC;AAIlC;;GAEG;AACH,MAAM,UAAU,kBAAkB,CAChC,IAKa;IAEb,IAAI,CAAC,IAAI,EAAE;QACT,OAAO,SAAS,CAAC;KAClB;IAED,gDAAgD;IAEhD,MAAM,KAAK,GAAG,EAAE,CAAC;IAEjB,IAAI,IAAI,CAAC,sBAAsB,IAAI,IAAI,EAAE;QACvC,KAAK,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,sBAAsB,EAAE,CAAC,CAAC;KACnD;IAED,IAAI,IAAI,CAAC,sBAAsB,EAAE;QAC/B,KAAK,CAAC,IAAI,CAAC,yBAAyB,CAAC,CAAC;KACvC;IAED,IAAI,IAAI,CAAC,oBAAoB,EAAE;QAC7B,KAAK,CAAC,IAAI,CAAC,qBAAqB,CAAC,CAAC;KACnC;IAED,IAAI,KAAK,CAAC,MAAM,GAAG,CAAC,EAAE;QACpB,OAAO;YACL,MAAM,EAAE,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC;SACxB,CAAC;KACH;IAED,OAAO,SAAS,CAAC;AACnB,CAAC","sourcesContent":["// Copyright (c) Microsoft Corporation.\n// Licensed under the MIT license.\n\nimport { LogsQueryOptions } from \"../models/publicLogsModels\";\n\n/**\n * @internal\n */\nexport function formatPreferHeader(\n  args:\n    | Pick<\n        LogsQueryOptions,\n        \"serverTimeoutInSeconds\" | \"includeQueryStatistics\" | \"includeVisualization\"\n      >\n    | undefined\n): { Prefer: string } | undefined {\n  if (!args) {\n    return undefined;\n  }\n\n  // https://datatracker.ietf.org/doc/html/rfc7240\n\n  const pairs = [];\n\n  if (args.serverTimeoutInSeconds != null) {\n    pairs.push(`wait=${args.serverTimeoutInSeconds}`);\n  }\n\n  if (args.includeQueryStatistics) {\n    pairs.push(\"include-statistics=true\");\n  }\n\n  if (args.includeVisualization) {\n    pairs.push(\"include-render=true\");\n  }\n\n  if (pairs.length > 0) {\n    return {\n      Prefer: pairs.join(\",\"),\n    };\n  }\n\n  return undefined;\n}\n"]}